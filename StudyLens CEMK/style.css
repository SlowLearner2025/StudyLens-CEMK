/* SnapLearn CEMK — style.css */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap');

:root {
  --bg:#0d1117; --surface:#161b22; --surface2:#21262d; --border:#30363d;
  --text:#e6edf3; --muted:#8b949e;
  --blue:#58a6ff; --green:#3fb950; --orange:#f0883e; --purple:#bc8cff; --red:#f85149;
  --ph:var(--blue); --ma:var(--green); --el:var(--orange);
  --r:12px; --nav:60px;
}
[data-theme=light]{
  --bg:#f6f8fa; --surface:#ffffff; --surface2:#f0f2f5; --border:#d0d7de;
  --text:#1f2328; --muted:#656d76;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Space Grotesk',sans-serif;background:var(--bg);color:var(--text);
     min-height:100vh;padding-bottom:calc(var(--nav) + 12px);line-height:1.6;font-size:16px}

/* ---- Scrollbar ---- */
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* ---- Layout ---- */
.container{max-width:860px;margin:0 auto;padding:0 14px}
.section{padding:20px 0}

/* ---- Header ---- */
.site-header{position:sticky;top:0;z-index:100;background:var(--surface);
  border-bottom:1px solid var(--border);display:flex;align-items:center;
  justify-content:space-between;padding:10px 16px;gap:10px}
.logo{font-weight:700;color:var(--blue);text-decoration:none;font-size:.9rem;line-height:1.2}
.logo span{color:var(--muted);font-weight:400}

/* ---- Buttons ---- */
.btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;border-radius:8px;
  border:1px solid var(--border);background:var(--surface2);color:var(--text);
  font-family:'Space Grotesk',sans-serif;font-size:.875rem;font-weight:500;
  cursor:pointer;transition:all .18s;text-decoration:none;white-space:nowrap;-webkit-tap-highlight-color:transparent}
.btn:hover,.btn:active{background:var(--border)}
.btn-primary{background:var(--blue);color:#000;border-color:var(--blue)}
.btn-primary:hover{opacity:.85}
.btn-purple{background:var(--purple);color:#000;border-color:var(--purple)}
.btn-purple:hover{opacity:.85}
.btn-success{background:var(--green);color:#000;border-color:var(--green)}
.btn-sm{padding:7px 13px;font-size:.8rem}
.btn-full{width:100%;justify-content:center}
.theme-btn{background:var(--surface2);border:1px solid var(--border);border-radius:20px;
  padding:6px 11px;cursor:pointer;font-size:1rem;transition:.18s}
.theme-btn:hover{background:var(--border)}

/* ---- Cards ---- */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:12px}
.card-title{font-size:1rem;font-weight:600;margin-bottom:8px;display:flex;align-items:center;gap:8px}
.card-body{color:var(--muted);font-size:.9rem}

/* ---- Subject Cards ---- */
.subj-grid{display:grid;grid-template-columns:1fr;gap:12px}
@media(min-width:580px){.subj-grid{grid-template-columns:repeat(3,1fr)}}
.subj-card{display:flex;flex-direction:column;gap:10px;padding:20px;border-radius:var(--r);
  border:1px solid var(--border);text-decoration:none;color:var(--text);
  transition:transform .2s,box-shadow .2s;position:relative;overflow:hidden;background:var(--surface)}
.subj-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px}
.subj-card.ph::before{background:var(--ph)}
.subj-card.ma::before{background:var(--ma)}
.subj-card.el::before{background:var(--el)}
.subj-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.3)}
.subj-card:active{transform:translateY(0)}
.subj-icon{font-size:2rem}
.subj-name{font-size:1.15rem;font-weight:700}
.subj-desc{font-size:.78rem;color:var(--muted)}
.subj-count{position:absolute;top:12px;right:12px;background:var(--surface2);
  border:1px solid var(--border);border-radius:20px;padding:2px 8px;font-size:.72rem;color:var(--muted)}

/* ---- Tags ---- */
.tag{display:inline-flex;align-items:center;gap:3px;padding:2px 8px;border-radius:20px;
  font-size:.72rem;font-weight:600}
.tag-exam{background:rgba(240,136,62,.15);color:var(--orange);border:1px solid rgba(240,136,62,.3)}
.tag-hot{background:rgba(248,81,73,.15);color:var(--red);border:1px solid rgba(248,81,73,.3)}
.tag-vis{background:rgba(88,166,255,.15);color:var(--blue);border:1px solid rgba(88,166,255,.3)}

/* ---- Formula ---- */
.formula{background:var(--surface2);border:1px solid var(--border);border-left:3px solid var(--blue);
  border-radius:8px;padding:12px 14px;font-family:'JetBrains Mono',monospace;font-size:.85rem;
  margin:8px 0;overflow-x:auto;white-space:pre-wrap;line-height:1.8}
.formula.gr{border-left-color:var(--green)}
.formula.or{border-left-color:var(--orange)}
.formula.pu{border-left-color:var(--purple)}

/* ---- Vis Container ---- */
.vis-wrap{background:var(--surface2);border:1px solid var(--border);border-radius:var(--r);
  padding:12px;margin:10px 0;display:none}
.vis-wrap.open{display:block}
.vis-wrap canvas{width:100%;border-radius:8px;background:#060a10;display:block;touch-action:none}
.vis-ctrl{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;align-items:center;font-size:.8rem;color:var(--muted)}
.vis-ctrl input[type=range]{flex:1;min-width:80px;accent-color:var(--blue)}
.vis-ctrl select{background:var(--surface2);color:var(--text);border:1px solid var(--border);
  border-radius:6px;padding:4px 8px;font-size:.8rem;font-family:'Space Grotesk',sans-serif}
.vis-info{margin-top:8px;font-size:.82rem;color:var(--muted);text-align:center}

/* ---- ELI5 ---- */
.eli5{background:rgba(188,140,255,.08);border:1px solid rgba(188,140,255,.25);
  border-radius:8px;padding:12px 14px;margin:10px 0;font-size:.875rem;display:none}
.eli5.open{display:block}
.eli5-head{color:var(--purple);font-weight:600;margin-bottom:6px;font-size:.8rem}

/* ---- Collapsible ---- */
.collap{margin-bottom:8px}
.collap-hd{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);
  padding:14px 16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;
  font-weight:600;font-size:.93rem;transition:background .18s;user-select:none;-webkit-tap-highlight-color:transparent}
.collap-hd:hover{background:var(--surface2)}
.collap-hd.open{border-bottom-left-radius:0;border-bottom-right-radius:0}
.collap-arrow{transition:transform .2s;font-size:.7rem;flex-shrink:0}
.collap-hd.open .collap-arrow{transform:rotate(180deg)}
.collap-bd{background:var(--surface);border:1px solid var(--border);border-top:none;
  border-bottom-left-radius:var(--r);border-bottom-right-radius:var(--r);
  padding:0 16px;max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease}
.collap-bd.open{max-height:3000px;padding:16px}

/* ---- Quiz ---- */
.quiz-q{font-weight:600;margin-bottom:10px;font-size:.93rem}
.quiz-opts{display:flex;flex-direction:column;gap:6px}
.quiz-opt{padding:10px 14px;border:1px solid var(--border);border-radius:8px;cursor:pointer;
  font-size:.86rem;transition:all .18s;background:var(--surface2);-webkit-tap-highlight-color:transparent}
.quiz-opt:hover{border-color:var(--blue)}
.quiz-opt.correct{border-color:var(--green);background:rgba(63,185,80,.1);color:var(--green)}
.quiz-opt.wrong{border-color:var(--red);background:rgba(248,81,73,.1);color:var(--red)}
.quiz-fb{margin-top:8px;font-size:.83rem;font-weight:500;min-height:20px}
.prog-wrap{background:var(--surface2);border-radius:20px;height:6px;overflow:hidden;margin:6px 0}
.prog-bar{height:100%;border-radius:20px;background:linear-gradient(90deg,var(--blue),var(--purple));transition:width .5s}

/* ---- Bottom Nav ---- */
.bnav{position:fixed;bottom:0;left:0;right:0;height:var(--nav);background:var(--surface);
  border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-around;
  z-index:200;padding:0 6px}
.bnav-item{display:flex;flex-direction:column;align-items:center;gap:3px;text-decoration:none;
  color:var(--muted);font-size:.67rem;font-weight:500;padding:6px 10px;border-radius:8px;
  transition:all .18s;flex:1;justify-content:center;-webkit-tap-highlight-color:transparent}
.bnav-item .ni{font-size:1.25rem}
.bnav-item:hover,.bnav-item.active{color:var(--blue)}
.bnav-item.active .ni{transform:scale(1.1)}

/* ---- Hero ---- */
.hero{padding:22px 16px;text-align:center;background:linear-gradient(180deg,rgba(88,166,255,.06) 0%,transparent 100%);
  border-bottom:1px solid var(--border)}
.hero h1{font-size:1.45rem;font-weight:700;line-height:1.3;margin-bottom:6px}
.hero h1 span{color:var(--blue)}
.hero p{color:var(--muted);font-size:.875rem;margin-bottom:14px}
.hero-chips{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.hero-chip{padding:3px 12px;border-radius:20px;font-size:.73rem;border:1px solid var(--border);color:var(--muted)}

/* ---- Author Card in Hero ---- */
.author-card{display:inline-flex;align-items:center;gap:12px;margin-top:14px;background:linear-gradient(90deg,rgba(255,255,255,0.02),transparent);padding:8px 12px;border-radius:14px;border:1px solid rgba(255,255,255,0.03)}
.author-photo{width:64px;height:64px;border-radius:10px;object-fit:cover;border:2px solid rgba(255,255,255,0.04);box-shadow:0 6px 18px rgba(0,0,0,0.35)}
.author-meta{display:flex;flex-direction:column;align-items:flex-start;text-align:left}
.author-name{font-weight:700;color:var(--text);font-size:0.98rem}
.author-role{font-size:0.8rem;color:var(--muted);margin-top:2px}
.author-link{margin-top:6px;background:var(--blue);color:#000;padding:6px 10px;border-radius:8px;text-decoration:none;font-weight:600;font-size:0.82rem}
.author-link:hover{opacity:0.9}

/* ---- Section title ---- */
.sec-title{font-size:1.05rem;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.sec-title::after{content:'';flex:1;height:1px;background:var(--border)}

/* ---- Hot topics list ---- */
.hot-list{display:flex;flex-direction:column;gap:7px}
.hot-item{display:flex;align-items:center;gap:10px;padding:10px 13px;background:var(--surface);
  border:1px solid var(--border);border-radius:8px;text-decoration:none;color:var(--text);
  font-size:.86rem;transition:all .18s}
.hot-item:hover{border-color:var(--orange)}
.dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.dot-ph{background:var(--ph)}.dot-ma{background:var(--ma)}.dot-el{background:var(--el)}
.ml-auto{margin-left:auto}

/* ---- Revision box ---- */
.rev-box{background:rgba(248,81,73,.07);border:1px solid rgba(248,81,73,.25);
  border-radius:var(--r);padding:16px;margin:12px 0}
.rev-title{color:var(--red);font-weight:700;font-size:.88rem;margin-bottom:10px;display:flex;align-items:center;gap:6px}
.rev-list{list-style:none;display:flex;flex-direction:column;gap:5px}
.rev-list li{font-size:.83rem;display:flex;align-items:flex-start;gap:7px}
.rev-list li::before{content:'→';color:var(--orange);font-weight:700;flex-shrink:0}

/* ---- Topic nav pills ---- */
.topic-nav{display:flex;gap:6px;overflow-x:auto;padding:10px 14px;
  border-bottom:1px solid var(--border);scrollbar-width:none}
.topic-nav::-webkit-scrollbar{display:none}
.tpill{flex-shrink:0;padding:5px 13px;border-radius:20px;font-size:.78rem;font-weight:500;
  border:1px solid var(--border);text-decoration:none;color:var(--muted);background:var(--surface);white-space:nowrap}
.tpill:hover{background:var(--blue);color:#000;border-color:var(--blue)}

/* ---- Misc ---- */
.divider{height:1px;background:var(--border);margin:14px 0}
.muted{color:var(--muted)}.sm{font-size:.85rem}.mt8{margin-top:8px}.mb10{margin-bottom:10px}
.row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.fade{animation:fadeIn .28s ease}